# Generated by Django 4.2.13 on 2025-10-17 23:54

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('whatsapp', '0003_add_reconnect_proxy_fields'),
    ]

    operations = [
        migrations.AddField(
            model_name='whatsappmessage',
            name='failure_reason',
            field=models.CharField(blank=True, help_text='Código ou descrição do motivo da falha', max_length=100, verbose_name='Motivo da Falha'),
        ),
        migrations.AddField(
            model_name='whatsappmessage',
            name='last_retry_at',
            field=models.DateTimeField(blank=True, help_text='Data e hora da última tentativa de reenvio', null=True, verbose_name='Última Tentativa em'),
        ),
        migrations.AddField(
            model_name='whatsappmessage',
            name='max_retries',
            field=models.PositiveIntegerField(default=3, help_text='Número máximo de tentativas de reenvio', verbose_name='Máximo de Tentativas'),
        ),
        migrations.AddField(
            model_name='whatsappmessage',
            name='retry_count',
            field=models.PositiveIntegerField(default=0, help_text='Número de vezes que a mensagem foi tentada reenviar', verbose_name='Tentativas de Reenvio'),
        ),
        migrations.AlterField(
            model_name='whatsappmessage',
            name='status',
            field=models.CharField(choices=[('queued', 'Na Fila'), ('sending', 'Enviando'), ('sent', 'Enviada'), ('delivered', 'Entregue'), ('read', 'Lida'), ('failed', 'Falhou'), ('error', 'Erro'), ('retrying', 'Tentando Novamente')], db_index=True, default='queued', max_length=20, verbose_name='Status'),
        ),
    ]
